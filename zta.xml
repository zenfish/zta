<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/..\FrameXML\UI.xsd">

  <!-- Moveable Circular Icon -->
  <Button name="ZTAIcon" movable="true" enableMouse="true" parent="UIParent" hidden="false" toplevel="true" frameStrata="HIGH" registerForDrag="LeftButton">
    <Size>
      <AbsDimension x="40" y="40"/>
    </Size>
    <Anchors>
      <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
        <Offset>
          <AbsDimension x="-50" y="-150"/>
        </Offset>
      </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\Buttons\UI-Panel-Button-Up" tile="false">
      <BackgroundInsets>
        <AbsInset left="0" right="0" top="0" bottom="0"/>
      </BackgroundInsets>
    </Backdrop>
    <NormalTexture file="Interface\Buttons\UI-Panel-Button-Up"/>
    <PushedTexture file="Interface\Buttons\UI-Panel-Button-Down"/>
    <HighlightTexture file="Interface\Buttons\UI-Panel-Button-Highlight" alphaMode="ADD"/>
    <ButtonText name="$parentText" inherits="GameFontNormal" text="$">
      <Size>
        <AbsDimension x="36" y="36"/>
      </Size>
      <Anchors>
        <Anchor point="CENTER"/>
      </Anchors>
    </ButtonText>
    <Scripts>
      <OnLoad>
        ZTA_OnLoad();
      </OnLoad>
      <OnClick>
        ZTA_OnClick();
      </OnClick>
      <OnDragStart>
        this:StartMoving();
      </OnDragStart>
      <OnDragStop>
        this:StopMovingOrSizing();
        ZTA_SavePosition();
      </OnDragStop>
      <OnEnter>
        ZTA_ShowTooltip();
      </OnEnter>
      <OnLeave>
        GameTooltip:Hide();
      </OnLeave>
    </Scripts>
  </Button>

  <!-- Progress Window -->
  <Frame name="ZTAProgressFrame" toplevel="true" movable="true" enableMouse="true" parent="UIParent" hidden="true">
    <Size>
      <AbsDimension x="300" y="150"/>
    </Size>
    <Anchors>
      <Anchor point="CENTER"/>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
      <EdgeSize>
        <AbsValue val="32"/>
      </EdgeSize>
      <TileSize>
        <AbsValue val="32"/>
      </TileSize>
      <BackgroundInsets>
        <AbsInset left="11" right="12" top="12" bottom="11"/>
      </BackgroundInsets>
    </Backdrop>
    <Frames>
      <!-- Title Bar -->
      <Frame name="$parentTitleBar">
        <Size>
          <AbsDimension x="0" y="32"/>
        </Size>
        <Anchors>
          <Anchor point="TOPLEFT" relativePoint="TOPLEFT">
            <Offset>
              <AbsDimension x="12" y="-12"/>
            </Offset>
          </Anchor>
          <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
            <Offset>
              <AbsDimension x="-12" y="-12"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer level="BACKGROUND">
            <FontString name="$parentTitle" inherits="GameFontNormal" text="ZTA Scanner">
              <Anchors>
                <Anchor point="LEFT"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
      </Frame>
      
      <!-- Progress Text -->
      <Frame name="$parentProgressText">
        <Anchors>
          <Anchor point="TOPLEFT" relativePoint="TOPLEFT">
            <Offset>
              <AbsDimension x="20" y="-50"/>
            </Offset>
          </Anchor>
          <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
            <Offset>
              <AbsDimension x="-20" y="-50"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer level="BACKGROUND">
            <FontString name="$parentItemCount" inherits="GameFontNormal" text="Items scanned: 0">
              <Anchors>
                <Anchor point="TOPLEFT"/>
              </Anchors>
            </FontString>
            <FontString name="$parentProgress" inherits="GameFontNormal" text="Progress: 0%">
              <Anchors>
                <Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parentItemCount">
                  <Offset>
                    <AbsDimension x="0" y="-5"/>
                  </Offset>
                </Anchor>
              </Anchors>
            </FontString>
            <FontString name="$parentETA" inherits="GameFontNormal" text="Time remaining: Unknown">
              <Anchors>
                <Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parentProgress">
                  <Offset>
                    <AbsDimension x="0" y="-5"/>
                  </Offset>
                </Anchor>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
      </Frame>
      
      <!-- Cancel Button -->
      <Button name="$parentCancelButton" inherits="UIPanelButtonTemplate" text="Cancel">
        <Size>
          <AbsDimension x="80" y="22"/>
        </Size>
        <Anchors>
          <Anchor point="BOTTOM">
            <Offset>
              <AbsDimension x="0" y="20"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Scripts>
          <OnClick>
            ZTA_CancelScan();
          </OnClick>
        </Scripts>
      </Button>
    </Frames>
    <Scripts>
      <OnDragStart>
        this:StartMoving();
      </OnDragStart>
      <OnDragStop>
        this:StopMovingOrSizing();
      </OnDragStop>
    </Scripts>
  </Frame>

</Ui>